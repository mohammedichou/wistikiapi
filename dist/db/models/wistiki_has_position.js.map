{"version":3,"sources":["db/models/wistiki_has_position.js"],"names":["module","exports","sequelize","DataTypes","define","wistiki_serial_number","type","BIGINT","allowNull","primaryKey","references","model","key","position_id","INTEGER","position_end_date","DATE","underscored","freezeTableName","timestamps","createdAt","updatedAt","deletedAt","paranoid","defaultScope","where","scopes","not_active","$ne","last","limit","order"],"mappings":";;AAAA;;AAEAA,OAAOC,OAAP,GAAiB,UAAUC,SAAV,EAAqBC,SAArB,EAAgC;AAChD,QAAOD,UAAUE,MAAV,CAAiB,sBAAjB,EAAyC;AAC9CC,yBAAuB;AACtBC,SAAMH,UAAUI,MADM;AAEtBC,cAAW,KAFW;AAGtBC,eAAY,IAHU;AAItBC,eAAY;AACXC,WAAO,SADI;AAEXC,SAAK;AAFM;AAJU,GADuB;AAU9CC,eAAa;AACZP,SAAMH,UAAUW,OAAV,CAAkB,EAAlB,CADM;AAEZN,cAAW,KAFC;AAGZC,eAAY,IAHA;AAIZC,eAAY;AACXC,WAAO,UADI;AAEXC,SAAK;AAFM;AAJA,GAViC;AAmB9CG,qBAAmB;AAClBT,SAAMH,UAAUa,IADE;AAElBR,cAAW;AAFO;AAnB2B,EAAzC,EAuBH;AACFS,eAAa,IADX;AAEFC,mBAAiB,IAFf;AAGFC,cAAY,KAHV;AAIFC,aAAW,KAJT;AAKFC,aAAW,KALT;AAMFC,aAAW,KANT;AAOFC,YAAU,IAPR;AAQFC,gBAAc;AACbC,UAAO;AACNV,uBAAmB;AADb;AADM,GARZ;AAaFW,UAAQ;AACPC,eAAY;AACXF,WAAO;AACNV,wBAAmB;AAClBa,WAAK;AADa;AADb;AADI,IADL;AAQPC,SAAM;AACLC,WAAO,CADF;AAELC,WAAO,CACN,CAAC,aAAD,EAAgB,MAAhB,CADM;AAFF;AARC;AAbN,EAvBG,CAAP;AAqDA,CAtDD","file":"wistiki_has_position.js","sourcesContent":["/* jshint indent: 2 */\n\nmodule.exports = function (sequelize, DataTypes) {\n\treturn sequelize.define('wistiki_has_position', {\n\t\t\twistiki_serial_number: {\n\t\t\t\ttype: DataTypes.BIGINT,\n\t\t\t\tallowNull: false,\n\t\t\t\tprimaryKey: true,\n\t\t\t\treferences: {\n\t\t\t\t\tmodel: 'wistiki',\n\t\t\t\t\tkey: 'serial_number'\n\t\t\t\t}\n\t\t\t},\n\t\t\tposition_id: {\n\t\t\t\ttype: DataTypes.INTEGER(10),\n\t\t\t\tallowNull: false,\n\t\t\t\tprimaryKey: true,\n\t\t\t\treferences: {\n\t\t\t\t\tmodel: 'position',\n\t\t\t\t\tkey: 'id'\n\t\t\t\t}\n\t\t\t},\n\t\t\tposition_end_date: {\n\t\t\t\ttype: DataTypes.DATE,\n\t\t\t\tallowNull: true\n\t\t\t}\n\t\t}, {\n\t\t\tunderscored: true,\n\t\t\tfreezeTableName: true,\n\t\t\ttimestamps: false,\n\t\t\tcreatedAt: false,\n\t\t\tupdatedAt: false,\n\t\t\tdeletedAt: false,\n\t\t\tparanoid: true,\n\t\t\tdefaultScope: {\n\t\t\t\twhere: {\n\t\t\t\t\tposition_end_date: null\n\t\t\t\t}\n\t\t\t},\n\t\t\tscopes: {\n\t\t\t\tnot_active: {\n\t\t\t\t\twhere: {\n\t\t\t\t\t\tposition_end_date: {\n\t\t\t\t\t\t\t$ne: null\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tlast: {\n\t\t\t\t\tlimit: 1,\n\t\t\t\t\torder: [\n\t\t\t\t\t\t['position_id', 'DESC']\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t)\n};\n\n"],"sourceRoot":"/opt/atlassian/pipelines/agent/build/src"}